{{ ansible_managed | comment }}
---
{% if promtail_server is defined %}
server:
  {{ promtail_server | to_nice_yaml(indent=2) | indent(2, False) }}
{% endif -%}

{% if promtail_positions is defined %}
positions:
  {{ promtail_positions | to_nice_yaml(indent=2) | indent(2, False) }}
{% endif -%}

{% if promtail_clients is defined %}
clients:
  {{ promtail_clients | to_nice_yaml(indent=2) | indent(2, False) }}
{% endif -%}

{% if promtail_scrape_configs is defined %}
scrape_configs:
  {{ promtail_scrape_configs | to_nice_yaml(indent=2) | indent(2, False) }}
{% endif -%}
